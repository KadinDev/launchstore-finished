<!-- 
        função com nunjucks 

    classes = para trocar as classes css
-->
{% macro products(name, classes, products) %}

    <section class="shop {{classes}}">

        <!-- se tiver o argumento name ele coloca o h2, se não tiver deixa sem  -->
        {% if name %}
            <h2>{{name}}</h2>
        {% endif %}

        <div class="items">

            {% for product in products %}
                <div class="product">
                    
                    <!-- 
                        colocando na imagem funciona normal
                        <img src={{product.img if product.img else 'http://placehold.it/500x500?text=PRODUTO SEM IMAGEM'}} alt="">
                    -->
                    
                    <img src="{{product.img}}" alt="{{product.name}}" class="image" >

                    {% if product.formattedOldPrice != product.formattedPrice %}
                        <div class="old-price"> {{product.formattedOldPrice}} </div>
                    {% endif %}
                    <p> {{product.formattedPrice}} </p>
                    <h4> {{product.name}} </h4>

                    <a href="/products/{{product.id}}" class="button">Ver Produto</a>

                </div>
            {% endfor %}
        </div>
    </section>
{% endmacro %}